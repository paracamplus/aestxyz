#! /bin/bash
# Tidy up the XML generated by a script. The result should be valid XML
# wrt fw4ex grammar for reports.

FILE="$1"

# Before writing tidy as a perl module, don't fix xml, just cat it!
#exec /bin/cat "$FILE"

# tidy is supposed to be in /home/fw4ex/fw4exlib on the VM:
TIDY_DIR=${0%/*}

perl -I$TIDY_DIR/../fw4experllib -MParacamplus::FW4EX::XML::Tidy \
    -e "Paracamplus::FW4EX::XML::Tidy->new->tidy_file('$FILE');"

# end of tidy
