---
# This is the deployment configuration of the X server onto x.paracamplus.com

name: Paracamplus::FW4EX::X
encoding: UTF-8
default_view: TT
abort_chain_on_error_fix: 1
using_frontend_proxy: 1

private_key_file: /opt/x.paracamplus.com/fw4excookie.insecure.key

Catalyst::Engine:
    uploadtmp: /tmp/x/upload

Model::FW4EXDB:
    schema_class: Paracamplus::FW4EX::Schema::FW4EXDB
    connect_info:
       - dbi:Pg:dbname=fw4ex host=127.0.0.1
       - web2user
       - wffomXW7
       - pg_enable_utf8: 1

Controller::Root:
    version: 1251
# Use the same insecure key as the A server:
    private_key_file: /opt/x.paracamplus.com/fw4excookie.insecure.key

Controller::Direct:
    version: 1251
# Use the same insecure key as the A server:
    private_key_file: /opt/x.paracamplus.com/fw4excookie.insecure.key
    # 8 jours
    timeout: 691200
    ephemeralId: 32825
    ephemeralTimeout: 15
    lang: fr
    message:
      en:
          missingLogin: "Give me your login please!"
          missingPassword: "Give me your password please!"
          wrongCombination: "Wrong combination of login and password!"
      fr:
          missingLogin: "Votre nom de connexion SVP!"
          missingPassword: "Votre mot de passe SVP!"
          wrongCombination: "Mauvais nom de connexion ou mauvais mot de passe!"

Controller::FromUPMC:
    version: 1251
# Use the same insecure key as the A server:
    private_key_file: /opt/x.paracamplus.com/fw4excookie.insecure.key
    endTime: 20110201T00:00:00
    message:
      en:
          notAuthenticated: "Authentication required!"
          missingPassword: "Give me your password please!"
          missingLogin: "missingLogin"
          wrongCombination: "Wrong combination of login and password!"

Controller::FromMOOC:
    version: 1251
# Use the same insecure key as the A server:
    private_key_file: /opt/x.paracamplus.com/fw4excookie.insecure.key
    smtpfrom: CodeGradX confirmation <noreply@paracamplus.com>
    sendLinkSubject: "Confirmation de courriel"
    domain: http://mooc-li101-2015mar.paracamplus.com/
    sendLinkBaseUrl: http://mooc-li101-2015mar.paracamplus.com/authenticate/checklink/
    smtpservers:
      - 127.0.0.1
    message:
      fr:
          missingEmail: "Courriel manquant!"
          badEmail:     "Pas un courriel!"
    defaultGroup: mooc-li101-2015mar
    checkAPPID: programmation-recursive
# NOTA: mooc-li101-2015mar ne devrait pas apparaitre dans ces parametres!!!

Controller::OpenID:
    verbose: 10
    # Use the same insecure key as the A server:
    private_key_file: /opt/x.paracamplus.com/fw4excookie.insecure.key
    cache_dir: /home/opt/tmp/x/cache
    provider:  'https://accounts.google.com/o/oauth2/auth?'
    client_id: '1071555760360-bqi9hoesteh04npods0tjtnt8npu96n0.apps.googleusercontent.com'
    client_secret: '17bsCe7sdujQScEzofXXyYAQ'
    redirect_uri:  'http://x.paracamplus.com/openid/check'
    realm:         'http://*.paracamplus.com/'
    checker:   'https://accounts.google.com/o/oauth2/token'
    googleCertsUrl: https://www.googleapis.com/oauth2/v1/certs
#    behavior: register

Controller::Person:
    version: 1251
    user_cookie_key: u
# Use the same insecure key as the A server:
    private_key_file: /opt/x.paracamplus.com/fw4excookie.insecure.key
    sServerUrl: /s/
    xServerUrl: /

Controller::History:
    version: 1251
    count: 20
# Use the same insecure key as the A server:
    private_key_file: /opt/x.paracamplus.com/fw4excookie.insecure.key
    sServerUrl: /sh/s/
    xServerUrl: /xh/

Controller::Exercise:
    version: 1251
    user_cookie_key: u
# Use the same insecure key as the A server:
    private_key_file: /opt/x.paracamplus.com/fw4excookie.insecure.key
    sServerUrl: /s/
    xServerUrl: /

Controller::Things:
    version: 1251
    user_cookie_key: u
# Use the same insecure key as the A server:
    private_key_file:  /opt/x.paracamplus.com/fw4excookie.insecure.key
    defaultContentType: application/json
    maximum: 15

Controller::Jobs:
    version: 1251
    user_cookie_key: u
# Use the same insecure key as the A server:
    private_key_file:  /opt/x.paracamplus.com/fw4excookie.insecure.key
    defaultContentType: application/json
    maximum: 15

Controller::Exercises:
    version: 1251
    user_cookie_key: u
# Use the same insecure key as the A server:
    private_key_file:  /opt/x.paracamplus.com/fw4excookie.insecure.key

Controller::Batches:
    version: 1251
    user_cookie_key: u
# Use the same insecure key as the A server:
    private_key_file:  /opt/x.paracamplus.com/fw4excookie.insecure.key

Controller::Persons:
    version: 1251
    user_cookie_key: u
# Use the same insecure key as the A server:
    private_key_file:  /opt/x.paracamplus.com/fw4excookie.insecure.key

Controller::Author:
    version: 1251
    user_cookie_key: u
# Use the same insecure key as the A server:
    private_key_file:  /opt/x.paracamplus.com/fw4excookie.insecure.key

Controller::AuthorExercises:
    version: 1251
    user_cookie_key: u
# Use the same insecure key as the A server:
    private_key_file:  /opt/x.paracamplus.com/fw4excookie.insecure.key

Controller::Glimpse:
    private_key_file:  /opt/x.paracamplus.com/fw4excookie.insecure.key
    duration: 5
    defaultContentType: application/json

Controller::PersonGroup:
    version: 1251
    user_cookie_key: u
    private_key_file: /opt/x.paracamplus.com/fw4excookie.insecure.key

Controller::Enroll:
    version: 1251
    user_cookie_key: u
    private_key_file: /opt/x.paracamplus.com/fw4excookie.insecure.key
    home_page: /authenticationAnswer

Controller::Register:
    version: 1251
    user_cookie_key: u
    private_key_file: /opt/x.paracamplus.com/fw4excookie.insecure.key
    sendLinkBaseUrl: http://x.paracamplus.com/
    smtpfrom: FW4EX master <keymaster@paracamplus.com>
    smtpservers:
      - 127.0.0.1
    confirmationLinkSubject: "Lien temporaire"
# NOTA unifier sendlinkMail.tt avec confirmlinkMail.tt ?

Plugin::Static::Simple:
    include_path:
        - /var/www/x.paracamplus.com/

View::TT:
    INCLUDE_PATH: 
        - /opt/x.paracamplus.com/Templates/
        - /opt/x.paracamplus.com/Templates/Default/

# end.
